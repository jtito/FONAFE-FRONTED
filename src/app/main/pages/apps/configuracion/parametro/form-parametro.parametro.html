<div style="height: 50px;" class="bg-light"></div>
<div class="bg-light">
    <div class="container pt-2 bg-white">
        <div class="container sombraCards espacioBody pb-5" *ngIf="!loading">
            <div class="row d-flex">
                <div style="width: 4%" class="mt-4">
                    <button pButton type="button"
                            icon="pi pi-arrow-left"
                            class="p-button-danger p-button-rounded"
                            [routerLink]="[parametro == null ? '../':'../../']"
                    ></button>
                </div>
                <div style="width: 96%">
                    <h3 class="animated fadeIn fast mt-4" style="margin-bottom: -10px;" *ngIf="parametro == null">Configuración/Parámetro/Crear Parámetro</h3>
                    <h3 class="animated fadeIn fast mt-4" style="margin-bottom: -10px;" *ngIf="parametro != null && editar == true">Configuración/Parámetro/Actualizar Parámetro</h3>
                    <h3 class="animated fadeIn fast mt-4" style="margin-bottom: -10px;" *ngIf="parametro != null && editar == false">Configuración/Parámetro/Ver Parámetro</h3>
                </div>
            </div>
                <hr>
                <form [formGroup]="formularioParametro"
                  (ngSubmit)=" parametro == null ? registrarParametro() : actualizarParametro()">
                    <br>
                    <fieldset class="border p-2 animated fadeIn">
                        <!-- <legend class="w-auto" *ngIf="parametro == null">&nbsp;Crear parametro&nbsp;</legend>
                    <legend class="w-auto" *ngIf="parametro != null && editar == true">&nbsp;Actualizar parametro&nbsp;</legend>
                    <legend class="w-auto" *ngIf="parametro != null && editar == false">&nbsp;Ver parametro&nbsp;</legend>
                    <br><br> -->
                    <div class="container">
                        <div class="row">
                            <div class="form-group col-sm-12 mb-2">
                                <label for="CoParametro" class="mb-2">Código</label>
                                <input  type="text" class="form-control" formControlName="coParametro" [class.is-invalid]="coParametroNoValido"
                               id="CoParametro" placeholder="Ingrese el código" autocomplete="nope">
                               <label *ngIf="coParametroNoValido" id="validation-codigo-error"
                                       class="error jquery-validation-error small form-text invalid-feedback">Ingrese el código válido</label>
                            </div>
                            <div class="form-group col-sm-12 mb-2">
                                <label for="DeParametro" class="mb-2">Descripción</label>
                                <input  type="text" class="form-control" formControlName="deParametro" [class.is-invalid]="deParametroNoValido"
                               id="DeParametro" placeholder="Ingrese la descripción" autocomplete="nope">
                               <label *ngIf="deParametroNoValido" id="validation-descripcion-error"
                                       class="error jquery-validation-error small form-text invalid-feedback">Ingrese la descripción válido</label>
                            </div>

                            <div *ngIf="parametro != null && editar == true && parametro.indicadorBaja == '0'" class="form-group col-sm-12  mb-4">
                                <label for="idEstado" class="mb-2">Estado</label>
                                <select formControlName="idEstado" class="form-select" id="idEstado"
                                        (change)="onChangeEstado($event)">
                                    <option selected *ngFor="let estado of listaEstados"
                                            [value]="estado.nombreParametro">{{ estado.deValor1}}</option>
                                </select>
                            </div>

                            <div class="container card-body p-text-right" style="margin-left: -15px;">
                                <button type="submit" class="btn btn-primary" style="margin-right: 10px;"
                                        *ngIf="parametro == null">Crear
                                </button>
                                <button type="submit" class="btn btn-primary" style="margin-right: 10px;"
                                        *ngIf="parametro != null && editar == true">Actualizar
                                </button>
                                <button type="button" class="btn btn-danger" [routerLink]="['..']"
                                        *ngIf="parametro == null">
                                    Cancelar
                                </button>
                                <button type="button" class="btn btn-danger"
                                        [routerLink]="['/pages','main','configuracion','parametro']"
                                        *ngIf="parametro != null">Cancelar
                                </button>
                            </div>
                        </div>
                    </div>
                    </fieldset>
                </form>
                  
        </div>
        <!--Skeleton -->
        <div class="container sombraCards espacioBody" *ngIf="loading">
            <h3 class="animated fadeIn fast mt-4" style="margin-bottom: -10px;">
                <p-skeleton height="2rem" styleClass="p-mb-2"></p-skeleton>
            </h3>

            <br>
            <hr>
            <form [formGroup]="formularioParametro"
                  (ngSubmit)=" parametro == null ? registrarParametro() : actualizarParametro()">
                <br>

                <fieldset class="border p-2 animated fadeIn">
                    <p-skeleton height="2rem" styleClass="p-mb-2"></p-skeleton>
                    <br><br>
                    <div class="container">
                        <div class="row">

                            <div class="form-group col-sm-12 mb-4">
                                <p-skeleton height="3rem" styleClass="p-mb-2"></p-skeleton>
                            </div>
                            <div class="form-group col-sm-12 mb-4">
                                <p-skeleton height="3rem" styleClass="p-mb-2"></p-skeleton>
                            </div>

                            <div class="container card-body p-text-right">
                                <p-skeleton height="3rem" styleClass="p-mb-2"></p-skeleton>
                            </div>
                        </div>
                        <br>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>